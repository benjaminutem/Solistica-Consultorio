function login() {
  const u = user.value;
  const p = pass.value;

  const ok = users.find(x => x.user === u && x.pass === p);
  if (!ok) return alert("Acceso incorrecto");

  document.getElementById("login").style.display = "none";
  document.getElementById("app").style.display = "block";
  render();
}

function render() {
  inventory.innerHTML = "";
  inventoryData.forEach(m => {
    inventory.innerHTML += `<li>${m.nombre} — Stock: ${m.stock}</li>`;
  });
}

function scan() {
  // Simulación de lector
  const code = prompt("Simular código de barras:");
  const med = inventoryData.find(m => m.codigo === code);
  if (med) {
    med.stock--;
    alert("Salida registrada");
  } else {
    alert("Medicamento no encontrado");
  }
  render();
}